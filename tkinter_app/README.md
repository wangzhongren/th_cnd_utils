# 数据处理流水线代码生成器 (Tkinter版本)

这是一个基于Tkinter的桌面应用程序，用于生成和运行数据处理流水线代码。与Web版本功能一致，但作为本地应用程序运行。

## 功能特点

- 图形化界面，易于使用
- 支持自定义任务描述
- 使用Qwen3大模型生成Python代码
- 一键运行生成的代码
- 支持代码保存和加载
- 集成工具库说明文档

## 系统要求

- Python 3.6或更高版本
- Tkinter (通常随Python一起安装)

## 安装依赖

在项目根目录运行以下命令安装依赖：

```bash
pip install -r tkinter_app/requirements.txt
```

## 配置API密钥

1. 复制 `.env.example` 文件为 `.env`：
   ```bash
   cp tkinter_app/.env.example tkinter_app/.env
   ```

2. 编辑 `tkinter_app/.env` 文件，填写您的阿里云API密钥：
   ```
   OPENAI_API_KEY=your-actual-api-key-here
   ```

## 目录结构

```
tkinter_app/
├── app.py                  # 主应用程序文件
├── requirements.txt        # Python依赖
├── .env.example           # 环境变量配置示例
├── README.md              # 说明文档
└── modules/               # 功能模块
    ├── ui.py              # 用户界面模块
    ├── code_generator.py  # 代码生成模块
    └── code_executor.py   # 代码执行模块
```

## 使用方法

1. 配置API密钥（编辑 `.env` 文件）

2. 运行应用程序：
   ```bash
   python tkinter_app/app.py
   ```

3. 在左侧面板的"任务要求"区域输入您的数据处理任务描述

4. 点击"生成代码"按钮生成相应的Python代码

5. 在右侧面板查看生成的代码

6. 可以使用以下按钮操作代码：
   - "生成代码"：使用Qwen3大模型生成代码
   - "运行代码"：在独立进程中运行生成的代码
   - "保存代码"：将代码保存到文件
   - "加载代码"：从文件加载代码
   - "复制代码"：将代码复制到剪贴板
   - "清空"：清空所有输入和输出

## 界面说明

- **左侧面板**：
  - 任务要求：输入数据处理任务描述
  - 工具库说明：显示工具库使用指南

- **右侧面板**：
  - 生成的代码：显示Qwen3生成的Python代码
  - 运行输出：显示代码运行结果

- **底部按钮**：各种操作按钮

- **底部状态栏**：显示当前状态

## 注意事项

1. 请确保正确配置API密钥，否则无法生成代码
2. 运行代码时会在独立进程中执行，避免阻塞主界面
3. 代码执行有5分钟超时限制，防止长时间运行
4. 请确保生成的代码安全可靠后再运行
5. 工具库说明需要项目根目录有`UTILS_CALL_GUIDE.md`文件
6. 保存和加载代码时请注意文件路径

## 模块说明

### app.py
主应用程序，负责协调各个模块和处理用户交互。

### modules/ui.py
用户界面模块，负责创建和管理GUI组件。

### modules/code_generator.py
代码生成模块，使用OpenAI SDK调用Qwen3大模型生成代码。

### modules/code_executor.py
代码执行模块，负责在独立进程中运行Python代码。

## 故障排除

1. **无法生成代码**：检查API密钥是否正确配置
2. **界面显示异常**：检查Tkinter是否正确安装
3. **代码运行失败**：检查生成的代码是否正确，依赖是否安装
4. **文件操作失败**：检查文件权限和路径是否正确

## 许可证

本项目仅供学习和参考使用。